# AUTOGENERATED BY RAKE - DO NOT EDIT THIS FILE - Change :setup task variables 
# and rerun `rake setup`
require 'ostruct'

configure do
  SiteConfig = OpenStruct.new(
    :title => "<%= title %>",
    :author => "<%= author %>"
  )
end

<% environments.each do |env| %>
configure :<%= env %> do
  SiteConfig.couchdb_host = 'http://localhost:5984'
  SiteConfig.database_name = '<%= title.gsub(/[^0-9a-zA-Z]/,"_") %>_<%= env %>'
end
<% end %>

configure do
  unless SiteConfig.couchdb_host and SiteConfig.database_name
    raise <<-NOTICE
  Please set 'SiteConfig.couchdb_host' and 'SiteConfig.database_name' 
  in #{__FILE__} for #{Sinatra::Application.environment} Environment"
    NOTICE
  else
    SiteConfig.database = CouchRest.new(SiteConfig.couchdb_host).database!(SiteConfig.database_name)
  end
end
# vim:filetype=eruby
